<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <bean id="myDataSource" class="com.jolbox.bonecp.BoneCPDataSource" destroy-method="close">
        <!-- 数据库驱动 -->
        <property name="driverClass" value="com.mysql.jdbc.Driver" />
        <!-- 相应驱动的jdbcUrl,你懂的 -->
        <property name="jdbcUrl" value="jdbc:mysql://localhost:3306/goods" />
        <!-- 数据库的用户名 -->
        <property name="username" value="goods" />
        <!-- 数据库的密码 -->
        <property name="password" value="goods" />

        <!-- 每个分区最大的连接数 -->
        <property name="maxConnectionsPerPartition" value="20" />
        <!-- 每个分区最小的连接数 -->
        <property name="minConnectionsPerPartition" value="5" />
    </bean>


   <!-- <reference id="myDataSource" interface="javax.sql.DataSource" component-name="mysqldataSource"></reference>-->

    <bean id="sessionFactory" class="com.shuyun.mybatis.base.MySessionFactoryBean">
        <property name="dataSource" ref="myDataSource"></property>
        <property name="configLocation" value="mybatis-config.xml"></property>
    </bean>

    <bean id="mybatisTemplateImpl" class="com.shuyun.mybatis.base.MybatisTemplateImpl">
        <property name="mySessionFactoryBean" ref="sessionFactory"></property>
    </bean>


    <service id="mybatisTemplate"  ref="mybatisTemplateImpl" auto-export="all-classes"/>
</blueprint>
